"use strict";angular.module("dscover.me").controller("MainCtrl",function(e,t,n,r){e.title="dscover.me";t.get("tracks.json",{cache:!0}).success(function(t){e.tracks=t});angular.forEach(e.tracks,function(t){e.title=t.title;e.url=t.url;e.artist=t.artist});e.range=function(e){return new Array(e)};e.current=0;e.playing=!1;e.paused=!1;e.play=function(){if(!e.tracks.length)return;e.paused||(n.src=e.tracks[e.current].url);n.play();e.playing=!0};e.pause=function(){if(e.playing){n.pause();e.playing=!1;e.paused=!0}};e.next=function(){e.paused=!1;if(e.tracks.length>e.current+1){e.current++;e.play()}};e.prev=function(){e.paused=!1;if(e.current>0){e.current--;e.play()}}}).factory("audio",function(e){var t=e[0].createElement("audio");return t});