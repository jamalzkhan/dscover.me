"use strict";angular.module("dscover.me").controller("MainCtrl",function(e,t,n,r){e.title="dscover.me";t.get("tracks.json",{cache:!0}).success(function(t){e.tracks=t});e.current=0;e.playing=!1;e.paused=!1;e.muted=!1;e.play=function(){if(!e.tracks.length)return;e.paused||(n.src=e.tracks[e.current].url);n.play();e.playing=!0};e.pause=function(){if(e.playing){n.pause();e.playing=!1;e.paused=!0}};e.next=function(){e.paused=!1;if(e.tracks.length>e.current+1){e.current++;e.play()}};e.prev=function(){e.paused=!1;if(e.current>0){e.current--;e.play()}};e.volumeUp=function(){n.volume+=.1};e.volumeDown=function(){if(n.volume<=1)return!1;n.volume-1};e.muteVolume=function(){if(e.muted==1){n.volume=1;e.muted=!1}else{n.volume=0;e.muted=!0}};n.addEventListener("ended",function(){e.next()});n.addEventListener("timeupdate",function(){var t=document.getElementById("duration"),i=parseInt(n.currentTime%60),s=n.duration,o=i/s*100;$(".progress").html(r("<div class='progress-bar' style='width:"+o+"%'><span class='sr-only'>60% Complete</span></div>")(e))},!1)}).factory("audio",function(e){var t=e[0].createElement("audio");return t});